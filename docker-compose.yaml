version: "3"

services:
    nginx-proxy:
        image: nginx
        volumes:
            - ./nginx.conf:/etc/nginx/nginx.conf:ro
        ports:
            - "80:80"

    pygeoapi:
        image: geopython/pygeoapi:latest
        environment:
            - POSTGRES_PASS=${POSTGRES_PASS}
        volumes:
            - ./pygeoapi-config.yml:/pygeoapi/local.config.yml
            - ./custom_process:/pygeoapi/pygeoapi/custom_process
            - ./data:/data
        ports:
            - "5000:80"
